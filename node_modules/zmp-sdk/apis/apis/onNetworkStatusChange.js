import n,{object as e}from'./../external/zod/lib/index.mjs.js';import o from"../appEnv/index.js";import{functionHandler as t}from"../utils/decorator.js";import r from"../common/apis/general/onNetworkStatusChange.js";import{NetworkType as i}from"../types/enum.js";var a=[n.function().args(e({isConnected:n.boolean(),networkType:n.enum(["none","wifi","cellular","unknown"])})).returns(n.void())];function s(n){return t("onNetworkStatusChange",a,[n],(function(n){var e=n;if(o.isMp)r(e);else if(o.isMpWeb){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,a=t.effectiveType;t.addEventListener("change",(function(){var n;switch(a){case"none":n=i.none;break;case"4g":n=i.wifi;break;case"3g":case"2g":n=i.cellular;break;default:n=i.unknown}e({isConnected:!0,networkType:n})}))}}))}export{s as onNetworkStatusChange};
