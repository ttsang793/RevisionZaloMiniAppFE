import e from'./../external/@swc/helpers/src/_async_to_generator.mjs.js';import r from"../appEnv/index.js";import{functionHandler as t}from"../utils/decorator.js";import{COOKIE_NAME as o}from"../constants.js";import n from"../common/token.js";import{apiResponse as s}from"../utils/response.js";import{sendLogData as i}from"../common/utils.js";import{__generator as u}from'./../external/tslib/tslib.es6.js';function m(e){return a.apply(this,arguments)}function a(){return(a=e((function(m){return u(this,(function(a){return[2,t("getAuthCode",[],[m],e((function(){var e,t;return u(this,(function(u){switch(u.label){case 0:return r.isMp?[4,n.jumpAndGetToken(o.ZOAUTH,!0)]:[3,4];case 1:return e=u.sent()||"",[4,n.jumpAndGetToken(o.ZOAUTH_VRF)];case 2:return t=u.sent()||"",[4,n.verifyUserAuthorized()];case 3:if(u.sent())return[2,{authCode:e,authCodeVerify:t}];throw i([{action:"getAuthCode",error:-104,message:"no user auth",data:{}}]),s.error.loginFailed("User Authentication Required");case 4:return[2,Promise.resolve({authCode:"",authCodeVerify:""})]}}))})))]}))}))).apply(this,arguments)}export{m as getAuthCode};
