import o from'./../../external/@swc/helpers/src/_object_spread.mjs.js';import e from'./../../external/@swc/helpers/src/_object_spread_props.mjs.js';import n from"../../appEnv/index.js";import r from"../../common/notFound.js";import{functionHandler as t}from"../../utils/decorator.js";import m from'./../../external/zod/lib/index.mjs.js';import{sendLogData as s}from"../../common/utils.js";import{TYPE_LOG as i,EV as l}from"../../constants.js";var p=m.enum(["APP_INITIALIZING","APP_READY"]),d=m.any();function a(m,a){return t("logEvent",[p,d],[m,a],(function(t,m){if(n.isMp||n.isMpWeb){var p,d,a,c=e(o({},"object"==typeof m&&null!==m?m:{}),{duration:Math.round(performance.now()),timestamp:Date.now()});return null===window||void 0===window||null===(p=window.zmpGlobal)||void 0===p||null===(d=p.eventManager)||void 0===d||null===(a=d.logEventForClient)||void 0===a||a.call(d,{type:i.DEV_TRACKING,eventCode:"APP_INITIALIZING"===t?l.APP_INITIALIZING:l.APP_READY}),s([{action:"zmp.app.lifecycle.tracking",error:0,message:"",data:o({eventType:t},c)}])}throw r("logEvent",{})}))}export{a as logEvent};
