import e from'./../../../external/@swc/helpers/src/_class_call_check.mjs.js';import i from'./../../../external/@swc/helpers/src/_to_consumable_array.mjs.js';import o from"../../../utils/lodash.js";var n=function(){function n(){var o,t;e(this,n),this.sdkLoaded=!1,this.queue=[];var s=window.AdtimaZMA={config:{cateId:null===(o=window.zmpGlobal)||void 0===o||null===(t=o.appInfo)||void 0===t?void 0:t.cateType,appId:window.APP_ID},queue:[],load:function(e,o){s.queue=i(s.queue).concat([[e,o]])}}}var t=n.prototype;return t.loadSDK=function(){var e=this,i=document.createElement("script");i.src="https://adtima-static.zascdn.me/resource/js/zma/sdk.js?q=".concat(Math.floor((new Date).getTime()/864e5)),i.onload=function(){e.sdkLoaded=!0,e.processQueue()},i.onerror=function(){e.sdkLoaded=!0},document.body.appendChild(i)},t.load=function(e,i){var n;o.isFunction(null===(n=window.AdtimaZMA)||void 0===n?void 0:n.load)&&window.AdtimaZMA.load(e,i)},t.display=function(e){var i;this.sdkLoaded?o.isFunction(null===(i=window.AdtimaZMA)||void 0===i?void 0:i.display)&&window.AdtimaZMA.display(e):this.queue.push(this.display.bind(this,e))},t.refresh=function(e){var i;this.sdkLoaded?o.isFunction(null===(i=window.AdtimaZMA)||void 0===i?void 0:i.refresh)&&window.AdtimaZMA.refresh(e):this.queue.push(this.refresh.bind(this,e))},t.processQueue=function(){for(;this.queue.length>0;){var e=this.queue.shift();e&&e()}},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}();export{n as default};
