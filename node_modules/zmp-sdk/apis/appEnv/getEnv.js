import{mpDomain as i,mpPath as o}from"../constants.js";import t from"../utils/silent.js";import{PlatformType as n}from"../types/enum.js";var e=function(i){return i.isAndroid?n.android:i.isIOS?n.iOS:n.unknown};function r(i){var o=i.split("zalo")[1];return o&&o.replace(" ","").split("/")[1]||""}function s(){var n=function(){var n=t((function(){return window.navigator.userAgent.toLowerCase()}))();if(n){var s,a=function(i){return{isAndroid:/android/i.test(i)&&!/iemobile/.test(i),isIOS:/iphone|ios|ipad|ipod/.test(i)&&!/iemobile/.test(i),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(i),isZalo:/zalo/.test(i)}}(n);return{appEnv:(s=new URL(window.location.href).searchParams.get("env"),{isMp:window.location.hostname.includes(i)&&("TESTING_LOCAL"==s||window.location.pathname.startsWith(o)),isMpWeb:window.location.hostname.includes("localhost")}),platform:a,platformName:e(a),zaloVersion:r(n).trim()}}}();if(n)return n}export{s as default};
