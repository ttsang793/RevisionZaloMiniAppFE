System.register([],(function(B){"use strict";return{execute:(function(){B({INTERNAL_abortPromise:D,INTERNAL_addPendingPromiseToDependency:W,INTERNAL_buildStoreRev2:cn,INTERNAL_getBuildingBlocksRev2:S,INTERNAL_getMountedOrPendingDependents:P,INTERNAL_hasInitialValue:L,INTERNAL_initializeStoreHooksRev2:K,INTERNAL_isActuallyWritableAtom:T,INTERNAL_isAtomStateInitialized:M,INTERNAL_isPendingPromise:z,INTERNAL_isPromiseLike:b,INTERNAL_isSelfAtom:_,INTERNAL_registerAbortHandler:H,INTERNAL_returnAtomValue:y});function _(n,e){return n.unstable_is?n.unstable_is(e):e===n}function L(n){return"init"in n}function T(n){return!!n.write}function M(n){return"v"in n||"e"in n}function y(n){if("e"in n)throw n.e;return n.v}const k=B("INTERNAL_promiseStateMap",new WeakMap);function z(n){var e;return b(n)&&!!((e=k.get(n))!=null&&e[0])}function D(n){const e=k.get(n);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))}function H(n,e){let r=k.get(n);if(!r){r=[!0,new Set],k.set(n,r);const t=()=>{r[0]=!1};n.then(t,t)}r[1].add(e)}function b(n){return typeof(n==null?void 0:n.then)=="function"}function W(n,e,r){if(!r.p.has(n)){r.p.add(n);const t=()=>r.p.delete(n);e.then(t,t)}}function P(n,e,r){var t;const o=new Set;for(const l of((t=r.get(n))==null?void 0:t.t)||[])r.has(l)&&o.add(l);for(const l of e.p)o.add(l);return o}const J=()=>{const n=new Set,e=()=>n.forEach(r=>r());return e.add=r=>(n.add(r),()=>n.delete(r)),e},O=()=>{const n={},e=new WeakMap,r=t=>{var o,l;(o=e.get(n))==null||o.forEach(s=>s(t)),(l=e.get(t))==null||l.forEach(s=>s())};return r.add=(t,o)=>{const l=t||n,s=(e.has(l)?e:e.set(l,new Set)).get(l);return s.add(o),()=>{s==null||s.delete(o),s.size||e.delete(l)}},r};function K(n){return n.c||(n.c=O()),n.m||(n.m=O()),n.u||(n.u=O()),n.f||(n.f=J()),n}const Q=(n,e,...r)=>e.read(...r),U=(n,e,...r)=>e.write(...r),X=(n,e)=>{var r;return(r=e.unstable_onInit)==null?void 0:r.call(e,n)},Y=(n,e,r)=>{var t;return(t=e.onMount)==null?void 0:t.call(e,r)},Z=(n,e)=>{const r=S(n),t=r[0],o=r[9];let l=t.get(e);return l||(l={d:new Map,p:new Set,n:0},t.set(e,l),o==null||o(n,e)),l},$=n=>{const e=S(n),r=e[1],t=e[3],o=e[4],l=e[5],s=e[6],d=e[13],v=[],g=c=>{try{c()}catch(u){v.push(u)}};do{s.f&&g(s.f);const c=new Set,u=c.add.bind(c);t.forEach(a=>{var i;return(i=r.get(a))==null?void 0:i.l.forEach(u)}),t.clear(),l.forEach(u),l.clear(),o.forEach(u),o.clear(),c.forEach(g),t.size&&d(n)}while(t.size||l.size||o.size);if(v.length)throw new AggregateError(v)},nn=n=>{const e=S(n),r=e[1],t=e[2],o=e[3],l=e[11],s=e[14],d=e[17],v=[],g=new WeakSet,c=new WeakSet,u=Array.from(o);for(;u.length;){const a=u[u.length-1],i=l(n,a);if(c.has(a)){u.pop();continue}if(g.has(a)){t.get(a)===i.n&&v.push([a,i]),c.add(a),u.pop();continue}g.add(a);for(const w of P(a,i,r))g.has(w)||u.push(w)}for(let a=v.length-1;a>=0;--a){const[i,w]=v[a];let f=!1;for(const h of w.d.keys())if(h!==i&&o.has(h)){f=!0;break}f&&(s(n,i),d(n,i)),t.delete(i)}},en=(n,e)=>{var r;const t=S(n),o=t[1],l=t[2],s=t[3],d=t[6],v=t[7],g=t[11],c=t[12],u=t[13],a=t[14],i=t[16],w=t[17],f=g(n,e);if(M(f)&&(o.has(e)&&l.get(e)!==f.n||Array.from(f.d).every(([N,R])=>a(n,N).n===R)))return f;f.d.clear();let h=!0;function p(){o.has(e)&&(w(n,e),u(n),c(n))}function m(N){var R;if(_(e,N)){const G=g(n,N);if(!M(G))if(L(N))I(n,N,N.init);else throw new Error("no atom init");return y(G)}const j=a(n,N);try{return y(j)}finally{f.d.set(N,j.n),z(f.v)&&W(e,f.v,j),(R=o.get(N))==null||R.t.add(e),h||p()}}let E,A;const V={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return!A&&T(e)&&(A=(...N)=>{if(!h)try{return i(n,e,...N)}finally{u(n),c(n)}}),A}},F=f.n;try{const N=v(n,e,m,V);return I(n,e,N),b(N)&&(H(N,()=>E==null?void 0:E.abort()),N.then(p,p)),f}catch(N){return delete f.v,f.e=N,++f.n,f}finally{h=!1,F!==f.n&&l.get(e)===F&&(l.set(e,f.n),s.add(e),(r=d.c)==null||r.call(d,e))}},tn=(n,e)=>{const r=S(n),t=r[1],o=r[2],l=r[11],s=[e];for(;s.length;){const d=s.pop(),v=l(n,d);for(const g of P(d,v,t)){const c=l(n,g);o.set(g,c.n),s.push(g)}}},C=(n,e,...r)=>{const t=S(n),o=t[3],l=t[6],s=t[8],d=t[11],v=t[12],g=t[13],c=t[14],u=t[15],a=t[17];let i=!0;const w=h=>y(c(n,h)),f=(h,...p)=>{var m;const E=d(n,h);try{if(_(e,h)){if(!L(h))throw new Error("atom not writable");const A=E.n,V=p[0];I(n,h,V),a(n,h),A!==E.n&&(o.add(h),(m=l.c)==null||m.call(l,h),u(n,h));return}else return C(n,h,...p)}finally{i||(g(n),v(n))}};try{return s(n,e,w,f,...r)}finally{i=!1}},rn=(n,e)=>{var r;const t=S(n),o=t[1],l=t[3],s=t[6],d=t[11],v=t[15],g=t[18],c=t[19],u=d(n,e),a=o.get(e);if(a&&!z(u.v)){for(const[i,w]of u.d)if(!a.d.has(i)){const f=d(n,i);g(n,i).t.add(e),a.d.add(i),w!==f.n&&(l.add(i),(r=s.c)==null||r.call(s,i),v(n,i))}for(const i of a.d||[])if(!u.d.has(i)){a.d.delete(i);const w=c(n,i);w==null||w.t.delete(e)}}},q=(n,e)=>{var r;const t=S(n),o=t[1],l=t[4],s=t[6],d=t[10],v=t[11],g=t[12],c=t[13],u=t[14],a=t[16],i=v(n,e);let w=o.get(e);if(!w){u(n,e);for(const f of i.d.keys())q(n,f).t.add(e);if(w={l:new Set,d:new Set(i.d.keys()),t:new Set},o.set(e,w),(r=s.m)==null||r.call(s,e),T(e)){const f=()=>{let h=!0;const p=(...m)=>{try{return a(n,e,...m)}finally{h||(c(n),g(n))}};try{const m=d(n,e,p);m&&(w.u=()=>{h=!0;try{m()}finally{h=!1}})}finally{h=!1}};l.add(f)}}return w},on=(n,e)=>{var r;const t=S(n),o=t[1],l=t[5],s=t[6],d=t[11],v=t[19],g=d(n,e);let c=o.get(e);if(c&&!c.l.size&&!Array.from(c.t).some(u=>{var a;return(a=o.get(u))==null?void 0:a.d.has(e)})){c.u&&l.add(c.u),c=void 0,o.delete(e),(r=s.u)==null||r.call(s,e);for(const u of g.d.keys()){const a=v(n,u);a==null||a.t.delete(e)}return}return c},I=(n,e,r)=>{const t=S(n)[11],o=t(n,e),l="v"in o,s=o.v;if(b(r))for(const d of o.d.keys())W(e,r,t(n,d));o.v=r,delete o.e,(!l||!Object.is(s,o.v))&&(++o.n,b(s)&&D(s))},ln=(n,e)=>{const r=S(n)[14];return y(r(n,e))},sn=(n,e,...r)=>{const t=S(n),o=t[12],l=t[13],s=t[16];try{return s(n,e,...r)}finally{l(n),o(n)}},an=(n,e,r)=>{const t=S(n),o=t[12],l=t[18],s=t[19],d=l(n,e).l;return d.add(r),o(n),()=>{d.delete(r),s(n,e),o(n)}},x=new WeakMap;function S(n){return x.get(n)}function cn(...n){const e={get(t){const o=S(e)[21];return o(e,t)},set(t,...o){const l=S(e)[22];return l(e,t,...o)},sub(t,o){const l=S(e)[23];return l(e,t,o)}},r=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},Q,U,X,Y,Z,$,nn,en,tn,C,rn,q,on,I,ln,sn,an].map((t,o)=>n[o]||t);return x.set(e,Object.freeze(r)),e}})}}));
